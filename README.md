# 泰语学习卡片应用

一个智能化的泰语学习卡片应用，专注于提供流畅、个性化的语言学习体验。

## 功能特性

### 🎓 课程结构
- **分级学习**: 支持基础泰语1-4级课程结构
- **课程选择**: 全屏响应式课程选择界面
- **学习进度**: 自动保存和恢复学习进度（24小时有效期）
- **进度追踪**: 可视化进度条显示完成百分比

### 📚 学习功能
- **互动卡片**: 全屏沉浸式学习体验
- **语音播放**: 
  - 自动播放泰语单词和例句发音
  - 优先使用后端生成的音频文件
  - 浏览器Speech Synthesis API作为后备方案
  - 智能音频管理，防止重叠播放
- **键盘快捷键**:
  - `空格键` / `方向键`: 翻页导航
  - `C键`: 标记当前卡片为完成
  - `D键`: 切换深色/浅色主题
- **触摸手势**: 支持滑动翻页操作
- **响应式设计**: 完美适配移动端和桌面端

### 🎵 音频系统
- **多重播放方式**:
  - 后端生成的音频文件（存储在`generated/audio/`）
  - 外部API音频服务（临时缓存）
  - 浏览器内置TTS引擎（Safari兼容）
- **音频管理**:
  - 自动停止当前播放，防止音频重叠
  - 页面切换时立即停止音频播放
  - 卡片切换时无延迟连续播放

### 📁 文件管理
- **JSON文件上传**: 
  - 拖拽上传支持
  - 自动级别分配（基础泰语1-4）
  - 累积式上传（不覆盖现有数据）
- **卡片管理**:
  - 按级别查看和管理卡片
  - 搜索功能（泰语、中文、发音）
  - 批量选择和操作
  - 单张卡片编辑/删除
  - **批量删除**: 选中多张卡片批量删除
- **数据下载**: 
  - 批量下载选中卡片
  - 包含卡片图片和例句音频
  - ZIP格式打包下载

### 🔐 用户认证
- 简单的登录保护（用户名: sanghak.kim, 无密码验证）
- 基于localStorage的会话管理

### 🎨 用户界面
- **现代化设计**: 基于Tailwind CSS和shadcn/ui组件
- **深色模式**: 支持明暗主题切换
- **响应式布局**: 完美适配各种屏幕尺寸
- **无障碍设计**: 键盘导航和屏幕阅读器支持

## 技术架构

### 前端技术栈
- **React 18** - 现代React框架
- **TypeScript** - 类型安全的JavaScript
- **Wouter** - 轻量级路由系统
- **TanStack Query** - 强大的数据获取和缓存
- **Tailwind CSS** - 原子化CSS框架
- **Radix UI** - 高质量组件库
- **Vite** - 快速的构建工具

### 后端技术栈
- **Node.js** - JavaScript运行时
- **Express.js** - Web应用框架
- **TypeScript** - 全栈类型安全
- **SQLite** - 轻量级嵌入式数据库
- **Drizzle ORM** - 类型安全的数据库操作
- **Multer** - 文件上传处理

### 数据存储
- **数据库**: SQLite本地文件存储（`database.sqlite`）
- **音频文件**: 本地`generated/audio/`目录
- **学习进度**: 浏览器localStorage（24小时有效）
- **完全免费**: 无外部依赖，无云服务费用

## 安装和运行

### 环境要求
- Node.js 20 或更高版本
- npm 或 yarn

### 安装步骤
1. 克隆仓库
```bash
git clone <repository-url>
cd thai-learning-app
```

2. 安装依赖
```bash
npm install
```

3. 启动开发服务器
```bash
npm run dev
```

4. 打开浏览器访问 `http://localhost:5000`

### 构建生产版本
```bash
npm run build
```

## 使用指南

### 学习流程
1. **选择课程**: 从首页选择基础泰语1-4级
2. **开始学习**: 自动播放音频，查看卡片内容
3. **操作方式**:
   - 滑动屏幕或按空格键翻页
   - 按C键标记卡片完成
   - 按D键切换深色模式
4. **返回首页**: 点击左上角返回按钮

### 文件管理
1. **登录**: 使用用户名`sanghak.kim`登录
2. **上传文件**: 
   - 选择目标级别（基础泰语1-4）
   - 拖拽或点击上传JSON文件
3. **管理卡片**:
   - 搜索和筛选卡片
   - 选择卡片进行批量操作
   - 生成音频文件和卡片图片
   - 批量下载或删除

### JSON文件格式
```json
{
  "cards": [
    {
      "thai": "สวัสดี",
      "chinese": "你好",
      "pronunciation": "sà-wàt-dii",
      "example": "สวัสดีครับ ผมชื่อจอห์น",
      "example_translation": "你好，我叫约翰"
    }
  ]
}
```

## 部署

### Replit部署（推荐）
应用已配置为在Replit环境中运行，支持一键部署。

### 自定义部署
1. 构建应用: `npm run build`
2. 配置Web服务器指向`dist`目录
3. 确保SQLite数据库文件可写入
4. 设置环境变量（如需要）

## 开发说明

### 项目结构
```
├── client/               # 前端代码
│   ├── src/
│   │   ├── components/   # UI组件
│   │   ├── pages/        # 页面组件
│   │   ├── lib/          # 工具库
│   │   └── hooks/        # React Hooks
├── server/               # 后端代码
│   ├── index.ts          # 服务器入口
│   ├── routes.ts         # API路由
│   └── storage.ts        # 数据存储
├── shared/               # 共享类型定义
├── generated/            # 生成的音频和图片
└── database.sqlite       # SQLite数据库
```

### 开发命令
- `npm run dev` - 启动开发服务器
- `npm run build` - 构建生产版本
- `npm run db:push` - 推送数据库架构更改

## 更新日志

### 最新更新 (2025-07-30)
- ✅ 修复音频重叠问题，实现智能音频管理
- ✅ 添加Safari移动端兼容的TTS后备方案
- ✅ 完善批量删除功能，支持前后端同步
- ✅ 优化学习页面导航，添加翻页按钮和提示
- ✅ 增强首页返回时自动停止音频播放
- ✅ 迁移到SQLite数据库，实现完全免费存储

### 核心特性历史
- **2025-07-29**: 学习进度跟踪系统
- **2025-07-28**: 交互性改进（键盘快捷键、触摸手势、深色模式）
- **2025-07-28**: OSS云同步功能（已移除）
- **2025-06-25**: 基础应用架构和阿里云部署支持

## 许可证

MIT License - 详见 LICENSE 文件

## 联系方式

如有问题或建议，请通过以下方式联系：
- 创建 GitHub Issue
- 发送邮件至项目维护者

---

**泰语学习卡片应用** - 让泰语学习变得简单而有趣！ 🇹🇭